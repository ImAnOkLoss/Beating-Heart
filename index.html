<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B6: Beating Heart</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --pink: #E584A2;
            --purple: #AEA5F2;
            --green: #4affb3;
            --yellow: #ffd700;
            --red: #ff6b6b;
            --bg-dark: #1a1a2e;
            --bg-light: #16213e;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--bg-dark) 0%, var(--bg-light) 100%);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Presentation Container */
        .presentation {
            min-height: 100vh;
            padding-bottom: 80px;
        }

        /* Slides */
        .slide {
            display: none;
            min-height: calc(100vh - 80px);
            padding: 2rem;
            animation: slideIn 0.4s ease;
        }

        .slide.active {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .slide.hidden {
            display: none !important;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .slide-content {
            max-width: 900px;
            width: 100%;
        }

        /* Holding Page (Heart) */
        .holding-page {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            cursor: pointer;
        }

        .heart-container {
            width: 200px;
            height: 280px;
            animation: heartPulse 1.5s ease-in-out infinite;
            transition: transform 0.3s, filter 0.3s;
            transform: rotate(-30deg);
        }

        .heart-container:hover {
            animation: none;
            transform: rotate(-30deg) scale(1.2);
            filter: brightness(1.2);
        }

        @keyframes heartPulse {
            0%, 100% {
                transform: rotate(-30deg) scale(1);
                filter: brightness(1);
            }
            50% {
                transform: rotate(-30deg) scale(1.2);
                filter: brightness(1.2);
            }
        }

        .heart-container svg {
            width: 100%;
            height: 100%;
        }

        /* Decorative Elements - positioned 10% from bottom */
        .decoration-tree,
        .decoration-disco {
            position: fixed;
            bottom: 10vh;
            width: 100px;
            height: 100px;
            opacity: 0.5;
            z-index: 10;
            pointer-events: none;
        }

        .decoration-tree {
            left: 5%;
        }

        .decoration-disco {
            right: 5%;
        }

        .decoration-tree svg,
        .decoration-disco svg {
            width: 100%;
            height: 100%;
        }

        /* Main Title */
        .title-header {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .main-title {
            font-size: clamp(2.5rem, 7vw, 4rem);
            display: inline;
            background: linear-gradient(90deg, var(--pink), var(--purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .date-display {
            font-size: clamp(1.2rem, 3vw, 1.5rem);
            color: var(--green);
            margin-left: 1rem;
            display: inline;
        }

        h2 {
            font-size: 1.3rem;
            margin: 1.5rem 0 0.75rem;
            color: rgba(255,255,255,0.9);
        }

        h3 {
            font-size: 1.1rem;
            margin: 1rem 0 0.5rem;
            color: rgba(255,255,255,0.7);
        }

        p, li {
            font-size: 1rem;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.8);
        }

        /* Twin Boxes Container */
        .twin-boxes {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        /* Commitment Box with Neon Animation */
        .commitment-box {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(229, 132, 162, 0.3);
            border-radius: 16px;
            padding: 1.25rem 1.5rem;
            text-align: center;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: transform 0.3s, border-color 0.3s;
        }

        .commitment-box:hover {
            transform: translateY(-3px);
            border-color: rgba(229, 132, 162, 0.5);
        }

        .commitment-box.animating::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 16px;
            padding: 2px;
            background: linear-gradient(90deg, var(--pink), var(--purple), var(--pink));
            background-size: 200% 100%;
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            animation: neonBorder 3s linear;
        }

        @keyframes neonBorder {
            0% { background-position: 0% 50%; opacity: 1; }
            100% { background-position: 200% 50%; opacity: 0; }
        }

        .commitment-box h3 {
            margin: 0 0 0.75rem;
            color: var(--pink);
            font-size: 1.1rem;
        }

        .commitment-box p {
            margin: 0.3rem 0;
            font-size: 0.9rem;
        }

        /* Objectives Box */
        .objectives-box {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(174, 165, 242, 0.3);
            border-radius: 16px;
            padding: 1.25rem 1.5rem;
            text-align: center;
        }

        .objectives-box h3 {
            margin: 0 0 0.75rem;
            color: var(--purple);
            font-size: 1.1rem;
        }

        .objectives-box p {
            margin: 0.3rem 0;
            font-size: 0.9rem;
        }

        /* Info Grid */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .info-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1rem;
            text-align: center;
        }

        .info-card h3 {
            margin-top: 0;
            color: var(--pink);
        }

        .info-card p {
            margin: 0.4rem 0;
            font-size: 0.9rem;
        }

        /* Scope List */
        .scope-list {
            list-style: none;
            margin: 0.5rem 0;
            text-align: left;
            display: inline-block;
        }

        .scope-list li {
            padding: 0.3rem 0;
            font-size: 0.9rem;
        }

        /* Editable Input */
        .editable-number {
            background: transparent;
            border: none;
            border-bottom: 2px dashed var(--green);
            color: var(--green);
            font-size: 2rem;
            font-weight: bold;
            width: 120px;
            text-align: center;
            outline: none;
        }

        .editable-number:focus {
            border-bottom-style: solid;
        }

        /* Inspiration Page */
        .inspiration-slide {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: calc(100vh - 80px);
        }

        .inspiration-text {
            font-size: clamp(1.3rem, 3vw, 1.8rem);
            text-align: center;
            font-style: italic;
            color: rgba(255,255,255,0.85);
            max-width: 700px;
            line-height: 1.8;
            padding: 3rem 2rem;
        }

        .inspiration-text span {
            background: linear-gradient(90deg, var(--pink), var(--purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: bold;
        }

        /* Numbers Page */
        .budget-header {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
            margin: 1.5rem 0;
        }

        .budget-box {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--green);
            border-radius: 16px;
            padding: 1.25rem 1.5rem;
            text-align: center;
            min-width: 160px;
        }

        .budget-box.contingency {
            border-color: var(--yellow);
        }

        .budget-box.contingency .value {
            color: var(--yellow);
        }

        .budget-box .label {
            font-size: 0.85rem;
            color: rgba(255,255,255,0.6);
            margin-bottom: 0.5rem;
        }

        .budget-box .value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--green);
        }

        /* Ticket Table */
        .ticket-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            font-size: 0.95rem;
        }

        .ticket-table th,
        .ticket-table td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .ticket-table th {
            color: rgba(255,255,255,0.6);
            font-weight: normal;
            font-size: 0.85rem;
        }

        .ticket-table td:last-child,
        .ticket-table th:last-child {
            text-align: right;
        }

        .ticket-table .category {
            color: #fff;
        }

        .ticket-table .price {
            color: var(--green);
            font-weight: bold;
        }

        .ticket-table .allocation {
            color: rgba(255,255,255,0.7);
        }

        .footnote {
            font-size: 0.85rem;
            color: rgba(255,255,255,0.5);
            margin-top: 1rem;
            font-style: italic;
        }

        .donation-note {
            background: rgba(229, 132, 162, 0.1);
            border-left: 3px solid var(--pink);
            padding: 0.75rem 1rem;
            margin-top: 1.5rem;
            font-size: 0.9rem;
            border-radius: 0 8px 8px 0;
        }

        /* Team Matrix */
        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 0.75rem;
            margin: 1rem 0;
        }

        .bubble {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 0.75rem 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            transition: transform 0.2s;
            font-size: 0.9rem;
        }

        .bubble:hover {
            transform: translateX(3px);
        }

        .bubble.ok { border-left: 3px solid var(--green); }
        .bubble.needs-hands { border-left: 3px solid var(--yellow); }
        .bubble.critical { border-left: 3px solid var(--red); background: rgba(255, 107, 107, 0.08); }

        .bubble-status { font-size: 1.1rem; }
        .bubble-info { flex: 1; }
        .bubble-name { font-weight: bold; font-size: 0.95rem; }
        .bubble-lead { font-size: 0.8rem; color: rgba(255,255,255,0.6); }
        .bubble-budget {
            text-align: right;
            font-size: 0.8rem;
        }
        .bubble-budget .percent { color: rgba(255,255,255,0.5); }
        .bubble-budget .amount { color: var(--green); font-weight: bold; }

        /* Legend */
        .legend {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 1.5rem;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 8px;
            font-size: 0.85rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }

        .legend-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .legend-dot.ok { background: var(--green); }
        .legend-dot.needs-hands { background: var(--yellow); }
        .legend-dot.critical { background: var(--red); }

        /* Timeline */
        .timeline {
            margin: 1rem 0;
        }

        .timeline-item {
            display: flex;
            gap: 1rem;
            padding: 0.75rem 0;
            border-left: 2px solid rgba(255, 255, 255, 0.15);
            padding-left: 1.25rem;
            position: relative;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -5px;
            top: 1rem;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: linear-gradient(90deg, var(--pink), var(--purple));
        }

        .timeline-date {
            font-weight: bold;
            min-width: 90px;
            color: var(--pink);
            font-size: 0.9rem;
        }

        .timeline-content {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.9rem;
        }

        /* Invitation Box */
        .invitation-box {
            background: linear-gradient(135deg, rgba(229, 132, 162, 0.1), rgba(174, 165, 242, 0.1));
            border: 1px solid rgba(255,255,255,0.15);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .invitation-box h2 {
            margin-top: 0;
            background: linear-gradient(90deg, var(--pink), var(--purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .invitation-items {
            display: flex;
            gap: 2rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 1rem;
        }

        .invitation-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .invitation-item .num {
            width: 28px;
            height: 28px;
            background: linear-gradient(90deg, var(--pink), var(--purple));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.85rem;
        }

        /* Progress Bar with Disco Ball */
        .progress-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 70px;
            background: linear-gradient(to top, rgba(26, 26, 46, 0.98), transparent);
            z-index: 100;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding-bottom: 12px;
        }

        .progress-bar.hidden {
            display: none;
        }

        .progress-dots {
            display: flex;
            gap: calc((90vw - 125px) / 4);
            align-items: center;
        }

        .progress-dot {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.3s;
        }

        .progress-dot.active {
            background: linear-gradient(135deg, var(--pink), var(--purple));
            border-color: var(--pink);
            box-shadow: 0 0 15px rgba(229, 132, 162, 0.5);
        }

        .progress-dot.completed {
            background: var(--green);
            border-color: var(--green);
        }

        .progress-dot:hover {
            transform: scale(1.1);
        }

        /* Disco Ball */
        .disco-ball-container {
            position: fixed;
            bottom: 35px;
            width: 25px;
            height: 40px;
            transition: left 0.5s ease-out;
            z-index: 101;
            pointer-events: none;
        }

        .disco-ball-container.hidden {
            display: none;
        }

        .disco-ball-container svg {
            width: 25px;
            height: 25px;
            animation: bounce 0.7s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-12px); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }

        .disco-ball-container .ball-glow {
            animation: pulse 1.5s ease-in-out infinite;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .slide {
                padding: 1.5rem 1rem;
            }

            .twin-boxes {
                grid-template-columns: 1fr;
            }

            .info-grid {
                grid-template-columns: 1fr;
            }

            .team-grid {
                grid-template-columns: 1fr;
            }

            .budget-header {
                flex-direction: column;
                align-items: center;
            }

            .progress-dots {
                gap: calc((90vw - 125px) / 4);
            }

            .title-header .date-display {
                display: block;
                margin-left: 0;
                margin-top: 0.5rem;
            }

            .decoration-tree,
            .decoration-disco {
                width: 60px;
                height: 60px;
                bottom: 12vh;
            }
        }
    </style>
</head>
<body>
    <div class="presentation" id="presentation">
        <!-- Decorative Elements (visible on all slides except holding page) -->
        <div class="decoration-tree" id="decorTree">
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="treeGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#E584A2"/>
                        <stop offset="100%" stop-color="#AEA5F2"/>
                    </linearGradient>
                </defs>
                <!-- Oak Tree with twisted trunk and many leaves -->
                <g fill="url(#treeGradient)">
                    <!-- Trunk -->
                    <path d="M50 98 Q45 85 48 75 Q44 70 46 60 L44 55 Q42 50 45 45 L50 45 Q53 50 51 55 L49 60 Q51 70 47 75 Q50 85 55 98 Z" opacity="0.9"/>
                    <!-- Main branches -->
                    <path d="M48 55 Q35 50 25 55 Q20 52 15 55" stroke="url(#treeGradient)" stroke-width="3" fill="none"/>
                    <path d="M51 55 Q65 50 75 55 Q80 52 85 55" stroke="url(#treeGradient)" stroke-width="3" fill="none"/>
                    <path d="M47 45 Q40 35 30 38" stroke="url(#treeGradient)" stroke-width="2.5" fill="none"/>
                    <path d="M53 45 Q60 35 70 38" stroke="url(#treeGradient)" stroke-width="2.5" fill="none"/>
                    <path d="M50 45 Q50 30 45 20" stroke="url(#treeGradient)" stroke-width="2" fill="none"/>
                    <path d="M50 45 Q50 30 55 20" stroke="url(#treeGradient)" stroke-width="2" fill="none"/>
                    <!-- Oak leaves (lobed shape) -->
                    <path d="M15 55 Q12 50 15 45 Q18 48 20 45 Q22 50 18 55 Q15 52 15 55"/>
                    <path d="M25 50 Q22 45 25 40 Q28 43 30 40 Q32 45 28 50 Q25 47 25 50"/>
                    <path d="M35 45 Q32 40 35 35 Q38 38 40 35 Q42 40 38 45 Q35 42 35 45"/>
                    <path d="M85 55 Q88 50 85 45 Q82 48 80 45 Q78 50 82 55 Q85 52 85 55"/>
                    <path d="M75 50 Q78 45 75 40 Q72 43 70 40 Q68 45 72 50 Q75 47 75 50"/>
                    <path d="M65 45 Q68 40 65 35 Q62 38 60 35 Q58 40 62 45 Q65 42 65 45"/>
                    <path d="M30 35 Q27 30 30 25 Q33 28 35 25 Q37 30 33 35 Q30 32 30 35"/>
                    <path d="M70 35 Q73 30 70 25 Q67 28 65 25 Q63 30 67 35 Q70 32 70 35"/>
                    <path d="M45 22 Q42 17 45 12 Q48 15 50 12 Q52 17 48 22 Q45 19 45 22"/>
                    <path d="M55 22 Q58 17 55 12 Q52 15 50 12 Q48 17 52 22 Q55 19 55 22"/>
                    <path d="M40 30 Q37 25 40 20 Q43 23 45 20 Q47 25 43 30 Q40 27 40 30"/>
                    <path d="M60 30 Q63 25 60 20 Q57 23 55 20 Q53 25 57 30 Q60 27 60 30"/>
                    <path d="M50 15 Q47 10 50 5 Q53 8 55 5 Q57 10 53 15 Q50 12 50 15"/>
                    <path d="M20 60 Q17 55 20 50 Q23 53 25 50 Q27 55 23 60 Q20 57 20 60"/>
                    <path d="M80 60 Q83 55 80 50 Q77 53 75 50 Q73 55 77 60 Q80 57 80 60"/>
                </g>
            </svg>
        </div>

        <div class="decoration-disco" id="decorDisco">
            <svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="decorBallGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#E584A2"/>
                        <stop offset="100%" stop-color="#AEA5F2"/>
                    </linearGradient>
                </defs>
                <!-- Disco Ball with filled grid pattern -->
                <circle cx="50" cy="50" r="35" fill="url(#decorBallGradient)"/>
                <!-- Grid lines (white) -->
                <g stroke="rgba(255,255,255,0.4)" stroke-width="1" fill="none">
                    <!-- Horizontal curves -->
                    <ellipse cx="50" cy="25" rx="32" ry="6"/>
                    <ellipse cx="50" cy="37" rx="34" ry="7"/>
                    <ellipse cx="50" cy="50" rx="35" ry="8"/>
                    <ellipse cx="50" cy="63" rx="34" ry="7"/>
                    <ellipse cx="50" cy="75" rx="32" ry="6"/>
                    <!-- Vertical curves -->
                    <path d="M50 15 L50 85"/>
                    <path d="M30 18 Q15 50 30 82"/>
                    <path d="M70 18 Q85 50 70 82"/>
                    <path d="M40 16 Q28 50 40 84"/>
                    <path d="M60 16 Q72 50 60 84"/>
                </g>
                <!-- Highlight tiles -->
                <rect x="45" y="30" width="5" height="4" fill="rgba(255,255,255,0.5)" rx="1"/>
                <rect x="58" y="45" width="5" height="4" fill="rgba(255,255,255,0.5)" rx="1"/>
                <rect x="35" y="55" width="5" height="4" fill="rgba(255,255,255,0.5)" rx="1"/>
                <rect x="50" y="68" width="5" height="4" fill="rgba(255,255,255,0.5)" rx="1"/>
                <!-- 4-pointed sparkle stars -->
                <g fill="url(#decorBallGradient)">
                    <path d="M10 20 L12 25 L10 30 L8 25 Z"/>
                    <path d="M90 20 L92 25 L90 30 L88 25 Z"/>
                    <path d="M10 70 L12 75 L10 80 L8 75 Z"/>
                    <path d="M90 70 L92 75 L90 80 L88 75 Z"/>
                    <path d="M15 45 L17 48 L15 51 L13 48 Z"/>
                    <path d="M85 45 L87 48 L85 51 L83 48 Z"/>
                </g>
            </svg>
        </div>

        <!-- Slide 0: Holding Page (Heart) -->
        <div class="slide holding-page active" data-slide="0" id="holdingPage" onclick="leaveHoldingPage()">
            <div class="heart-container">
                <svg viewBox="0 0 100 140" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="heartGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#E584A2"/>
                            <stop offset="100%" stop-color="#AEA5F2"/>
                        </linearGradient>
                    </defs>
                    <g stroke="url(#heartGradient)" stroke-width="1.5" fill="none">
                        <!-- Anatomical heart body -->
                        <path d="M50 130 Q30 115 25 100 Q18 85 20 70 Q22 55 35 50 Q28 45 30 35 Q32 25 45 30 Q40 20 50 15 Q60 20 55 30 Q68 25 70 35 Q72 45 65 50 Q78 55 80 70 Q82 85 75 100 Q70 115 50 130"/>
                        <!-- Heart chambers and vessels -->
                        <path d="M35 50 Q40 55 45 50 Q50 55 55 50"/>
                        <path d="M30 70 Q40 75 50 70 Q60 75 70 70"/>
                        <path d="M35 85 Q45 90 50 85 Q55 90 65 85"/>
                        <!-- Aorta and arteries going up -->
                        <path d="M45 30 Q42 20 38 10 Q36 5 40 2"/>
                        <path d="M55 30 Q58 20 62 10 Q64 5 60 2"/>
                        <path d="M50 15 Q50 5 50 0"/>
                        <!-- Flowers growing from top -->
                        <!-- Flower 1 (left) -->
                        <path d="M38 10 Q30 5 25 10"/>
                        <circle cx="25" cy="8" r="4"/>
                        <path d="M25 4 Q25 0 28 0"/>
                        <path d="M21 6 Q18 4 18 8"/>
                        <path d="M29 6 Q32 4 32 8"/>
                        <!-- Flower 2 (center-left) -->
                        <path d="M42 5 Q38 -5 35 0"/>
                        <ellipse cx="35" cy="-2" rx="3" ry="4"/>
                        <!-- Flower 3 (center) -->
                        <path d="M50 0 Q50 -10 50 -15"/>
                        <circle cx="50" cy="-18" r="5"/>
                        <path d="M46 -20 Q44 -25 48 -25"/>
                        <path d="M54 -20 Q56 -25 52 -25"/>
                        <path d="M50 -23 Q50 -28 50 -30"/>
                        <!-- Flower 4 (center-right) -->
                        <path d="M58 5 Q62 -5 65 0"/>
                        <ellipse cx="65" cy="-2" rx="3" ry="4"/>
                        <!-- Flower 5 (right) -->
                        <path d="M62 10 Q70 5 75 10"/>
                        <circle cx="75" cy="8" r="4"/>
                        <path d="M75 4 Q75 0 72 0"/>
                        <path d="M79 6 Q82 4 82 8"/>
                        <path d="M71 6 Q68 4 68 8"/>
                        <!-- Leaves on stems -->
                        <path d="M43 15 Q38 12 40 8"/>
                        <path d="M57 15 Q62 12 60 8"/>
                        <path d="M48 5 Q44 2 46 -2"/>
                        <path d="M52 5 Q56 2 54 -2"/>
                        <!-- Heart texture lines -->
                        <path d="M40 60 Q45 65 40 70" opacity="0.5"/>
                        <path d="M60 60 Q55 65 60 70" opacity="0.5"/>
                        <path d="M45 95 Q50 100 55 95" opacity="0.5"/>
                    </g>
                </svg>
            </div>
        </div>

        <!-- Slide 1: Overview -->
        <div class="slide" data-slide="1">
            <div class="slide-content">
                <div class="title-header">
                    <h1 class="main-title">B6: Beating Heart</h1>
                    <span class="date-display">Fri 29 - Sun 31 May, 2026</span>
                </div>

                <div class="twin-boxes">
                    <div class="commitment-box" onclick="animateBox(this)">
                        <h3>Our Commitment</h3>
                        <p>Protect and nourish the collective fire</p>
                        <p>Welcome new team and community members</p>
                        <p>Grow at the pace of what can be sustainable</p>
                        <p>Stay connected to the land and each other</p>
                    </div>

                    <div class="objectives-box">
                        <h3>Core Objectives</h3>
                        <p>Rebuild core crew & reignite community</p>
                        <p>Regenerative 2026 for an Expansive 2027 edition</p>
                        <p>Maintain the 12k EUR financial buffer from B5</p>
                        <p>Create, Collaborate and Enjoy</p>
                    </div>
                </div>

                <div class="info-grid">
                    <div class="info-card">
                        <h3>Core</h3>
                        <p><strong>Leads:</strong> Joana & Jica</p>
                        <p><strong>Core Crew:</strong> Afonso, Ben, Jay, Jo, Ksenia, Lukas, Nick, Si</p>
                        <p><strong>Onboarding:</strong> 3-4 key new core crew members</p>
                    </div>
                    <div class="info-card">
                        <h3>Scope</h3>
                        <ul class="scope-list">
                            <li>1 main stage (Valley)</li>
                            <li>1 chill out/tea bar/workshop space (Canopy/Bar)</li>
                            <li>1 Kiosk with meals 2-3 times a day</li>
                            <li>Chillout and food eating areas</li>
                            <li>Camping, water, showers and toilets</li>
                            <li>More experiences to dream up (low lift â†’ high value)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 2: Inspiration -->
        <div class="slide" data-slide="2">
            <div class="slide-content inspiration-slide">
                <p class="inspiration-text">
                    Stop. Think of <span>one thing</span> you envision creating for this edition, throw it in the mixer. Beginnings has been about <span>making creative dreams come true</span>.
                </p>
            </div>
        </div>

        <!-- Slide 3: Numbers -->
        <div class="slide" data-slide="3">
            <div class="slide-content">
                <h1 class="main-title" style="font-size: 2.5rem; display: block; text-align: center;">Numbers</h1>

                <div class="budget-header">
                    <div class="budget-box">
                        <div class="label">Total Budget</div>
                        <div>â‚¬<input type="text" class="editable-number" id="budgetInput" value="22,000" oninput="updateCalculations()"></div>
                    </div>
                    <div class="budget-box">
                        <div class="label">Attendees</div>
                        <div><input type="text" class="editable-number" id="paxInput" value="200" oninput="updateCalculations()"></div>
                    </div>
                    <div class="budget-box">
                        <div class="label">Target Revenue (90%)</div>
                        <div class="value">â‚¬<span id="revenueDisplay">19,800</span></div>
                    </div>
                    <div class="budget-box contingency">
                        <div class="label">Contingency (10%)</div>
                        <div class="value">â‚¬<span id="contingencyDisplay">2,200</span></div>
                    </div>
                </div>

                <h2>Ticket Allocation & Pricing</h2>
                <table class="ticket-table">
                    <thead>
                        <tr>
                            <th>Category</th>
                            <th>Allocation</th>
                            <th>% of Total</th>
                            <th>Price</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="category">Core Crew</td>
                            <td class="allocation"><span id="coreCrew">15</span> ppl</td>
                            <td class="allocation"><span id="coreCrewPct">7.5</span>%</td>
                            <td class="price">â‚¬0</td>
                        </tr>
                        <tr>
                            <td class="category">Key Contributors</td>
                            <td class="allocation"><span id="keyContrib">25</span> ppl</td>
                            <td class="allocation"><span id="keyContribPct">12.5</span>%</td>
                            <td class="price">â‚¬<span id="keyContribPrice">77</span></td>
                        </tr>
                        <tr>
                            <td class="category">Subsidised</td>
                            <td class="allocation"><span id="subsidised">15</span> ppl</td>
                            <td class="allocation"><span id="subsidisedPct">7.5</span>%</td>
                            <td class="price">â‚¬<span id="subsidisedPrice">102</span></td>
                        </tr>
                        <tr>
                            <td class="category">Full Contribution</td>
                            <td class="allocation"><span id="fullContrib">145</span> ppl</td>
                            <td class="allocation"><span id="fullContribPct">72.5</span>%</td>
                            <td class="price">â‚¬<span id="fullPrice">153</span></td>
                        </tr>
                    </tbody>
                </table>

                <p class="footnote">* This is open to negotiations. Roughly based on previous editions with a healthier margin on key contributors for a 200 pax event. Key contributors pay ~50%, subsidised pay ~66% of full price.</p>

                <div class="donation-note">
                    <strong>Community Contributions:</strong> Invitation to community to contribute/donate before or on top of tickets if they wish - but this is a bonus and cannot be budgeted for.
                </div>
            </div>
        </div>

        <!-- Slide 4: Bubble Matrix -->
        <div class="slide" data-slide="4">
            <div class="slide-content">
                <h1 class="main-title" style="font-size: 2.5rem; display: block; text-align: center;">Bubble Matrix</h1>
                <p style="text-align: center; margin-bottom: 1rem; color: rgba(255,255,255,0.6); font-size: 0.9rem;">Budget allocations based on 90% target revenue (excluding contingency)</p>

                <div class="team-grid">
                    <div class="bubble critical">
                        <span class="bubble-status">âœ—</span>
                        <div class="bubble-info">
                            <div class="bubble-name">Food</div>
                            <div class="bubble-lead" style="color: var(--red);">NO LEAD â€¢ Lukas, Nick</div>
                        </div>
                        <div class="bubble-budget">
                            <div class="percent">15%</div>
                            <div class="amount">â‚¬<span class="bubble-amt" data-pct="15">2,970</span></div>
                        </div>
                    </div>
                    <div class="bubble ok">
                        <span class="bubble-status">âœ“</span>
                        <div class="bubble-info">
                            <div class="bubble-name">Bar</div>
                            <div class="bubble-lead">Lead: Jay â€¢ Jica</div>
                        </div>
                        <div class="bubble-budget">
                            <div class="percent">15%</div>
                            <div class="amount">â‚¬<span class="bubble-amt" data-pct="15">2,970</span></div>
                        </div>
                    </div>
                    <div class="bubble ok">
                        <span class="bubble-status">âœ“</span>
                        <div class="bubble-info">
                            <div class="bubble-name">Tech</div>
                            <div class="bubble-lead">Lead: Jo â€¢ Si, Jica</div>
                        </div>
                        <div class="bubble-budget">
                            <div class="percent">12%</div>
                            <div class="amount">â‚¬<span class="bubble-amt" data-pct="12">2,376</span></div>
                        </div>
                    </div>
                    <div class="bubble needs-hands">
                        <span class="bubble-status">âš </span>
                        <div class="bubble-info">
                            <div class="bubble-name">Site</div>
                            <div class="bubble-lead">Lead: Afonso â€¢ Si</div>
                        </div>
                        <div class="bubble-budget">
                            <div class="percent">12%</div>
                            <div class="amount">â‚¬<span class="bubble-amt" data-pct="12">2,376</span></div>
                        </div>
                    </div>
                    <div class="bubble ok">
                        <span class="bubble-status">âœ“</span>
                        <div class="bubble-info">
                            <div class="bubble-name">Structures</div>
                            <div class="bubble-lead">Lead: Si â€¢ Ben</div>
                        </div>
                        <div class="bubble-budget">
                            <div class="percent">12%</div>
                            <div class="amount">â‚¬<span class="bubble-amt" data-pct="12">2,376</span></div>
                        </div>
                    </div>
                    <div class="bubble critical">
                        <span class="bubble-status">âœ—</span>
                        <div class="bubble-info">
                            <div class="bubble-name">Visual Arts</div>
                            <div class="bubble-lead" style="color: var(--red);">NO LEAD â€¢ Jica</div>
                        </div>
                        <div class="bubble-budget">
                            <div class="percent">10%</div>
                            <div class="amount">â‚¬<span class="bubble-amt" data-pct="10">1,980</span></div>
                        </div>
                    </div>
                    <div class="bubble ok">
                        <span class="bubble-status">âœ“</span>
                        <div class="bubble-info">
                            <div class="bubble-name">Programming</div>
                            <div class="bubble-lead">Lead: Jo â€¢ Lukas, Nick</div>
                        </div>
                        <div class="bubble-budget">
                            <div class="percent">7%</div>
                            <div class="amount">â‚¬<span class="bubble-amt" data-pct="7">1,386</span></div>
                        </div>
                    </div>
                    <div class="bubble ok">
                        <span class="bubble-status">âœ“</span>
                        <div class="bubble-info">
                            <div class="bubble-name">Experiences</div>
                            <div class="bubble-lead">Lead: Nick â€¢ Lukas, Jay</div>
                        </div>
                        <div class="bubble-budget">
                            <div class="percent">6%</div>
                            <div class="amount">â‚¬<span class="bubble-amt" data-pct="6">1,188</span></div>
                        </div>
                    </div>
                    <div class="bubble needs-hands">
                        <span class="bubble-status">âš </span>
                        <div class="bubble-info">
                            <div class="bubble-name">Onsite Ops</div>
                            <div class="bubble-lead">Lead: Joana â€¢ Jica</div>
                        </div>
                        <div class="bubble-budget">
                            <div class="percent">5%</div>
                            <div class="amount">â‚¬<span class="bubble-amt" data-pct="5">990</span></div>
                        </div>
                    </div>
                    <div class="bubble ok">
                        <span class="bubble-status">âœ“</span>
                        <div class="bubble-info">
                            <div class="bubble-name">Comms</div>
                            <div class="bubble-lead">Lead: Joana â€¢ Nick, Ksenia</div>
                        </div>
                        <div class="bubble-budget">
                            <div class="percent">2%</div>
                            <div class="amount">â‚¬<span class="bubble-amt" data-pct="2">396</span></div>
                        </div>
                    </div>
                    <div class="bubble needs-hands">
                        <span class="bubble-status">âš </span>
                        <div class="bubble-info">
                            <div class="bubble-name">Legal & Insurance</div>
                            <div class="bubble-lead">Lead: Joana â€¢ Afonso</div>
                        </div>
                        <div class="bubble-budget">
                            <div class="percent">2%</div>
                            <div class="amount">â‚¬<span class="bubble-amt" data-pct="2">396</span></div>
                        </div>
                    </div>
                    <div class="bubble needs-hands">
                        <span class="bubble-status">âš </span>
                        <div class="bubble-info">
                            <div class="bubble-name">Sustainability</div>
                            <div class="bubble-lead">Lead: Jica</div>
                        </div>
                        <div class="bubble-budget">
                            <div class="percent">2%</div>
                            <div class="amount">â‚¬<span class="bubble-amt" data-pct="2">396</span></div>
                        </div>
                    </div>
                </div>

                <div class="legend">
                    <div class="legend-item"><span class="legend-dot ok"></span> OK</div>
                    <div class="legend-item"><span class="legend-dot needs-hands"></span> Needs Hands</div>
                    <div class="legend-item"><span class="legend-dot critical"></span> Critical - No Lead</div>
                </div>
            </div>
        </div>

        <!-- Slide 5: Next Steps -->
        <div class="slide" data-slide="5">
            <div class="slide-content">
                <h1 class="main-title" style="font-size: 2.5rem; display: block; text-align: center;">Next Steps</h1>

                <div class="invitation-box">
                    <h2>Your Turn</h2>
                    <p>Each person shares:</p>
                    <div class="invitation-items">
                        <div class="invitation-item">
                            <span class="num">1</span>
                            <span>One magical idea you'd love to create</span>
                        </div>
                        <div class="invitation-item">
                            <span class="num">2</span>
                            <span>2 minutes on your scope & budget assessment</span>
                        </div>
                    </div>
                </div>

                <h2>Timeline</h2>
                <div class="timeline">
                    <div class="timeline-item">
                        <span class="timeline-date">January</span>
                        <span class="timeline-content">Budget and Scope agreement (pending lock), Mailer, Initiate site weekends</span>
                    </div>
                    <div class="timeline-item">
                        <span class="timeline-date">Feb & March</span>
                        <span class="timeline-content">Bubble scope definition by leaders/team, Site visits and onboarding, long-lead bookings and tickets (depending on what is agreed)</span>
                    </div>
                    <div class="timeline-item">
                        <span class="timeline-date">Apr & May</span>
                        <span class="timeline-content">Site visits, ramp up till: -2 weeks till festival</span>
                    </div>
                    <div class="timeline-item">
                        <span class="timeline-date">May 15</span>
                        <span class="timeline-content">Flip into Onsite Mode</span>
                    </div>
                    <div class="timeline-item">
                        <span class="timeline-date">May 29-31</span>
                        <span class="timeline-content" style="color: var(--pink); font-weight: bold;">We gather ðŸŽ‰</span>
                    </div>
                    <div class="timeline-item">
                        <span class="timeline-date">June</span>
                        <span class="timeline-content">Retrospective and financial closure</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Progress Bar with Disco Ball -->
        <div class="progress-bar hidden" id="progressBar">
            <div class="progress-dots">
                <span class="progress-dot active" data-dot="1"></span>
                <span class="progress-dot" data-dot="2"></span>
                <span class="progress-dot" data-dot="3"></span>
                <span class="progress-dot" data-dot="4"></span>
                <span class="progress-dot" data-dot="5"></span>
            </div>
        </div>

        <!-- Disco Ball (bouncing) -->
        <div class="disco-ball-container hidden" id="discoBall">
            <svg viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <linearGradient id="ballGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#E584A2"/>
                        <stop offset="100%" stop-color="#AEA5F2"/>
                    </linearGradient>
                </defs>
                <!-- Filled disco ball with grid -->
                <circle cx="25" cy="25" r="18" fill="url(#ballGradient)" class="ball-glow"/>
                <!-- Grid lines -->
                <g stroke="rgba(255,255,255,0.4)" stroke-width="0.5" fill="none">
                    <ellipse cx="25" cy="15" rx="16" ry="3"/>
                    <ellipse cx="25" cy="21" rx="17" ry="4"/>
                    <ellipse cx="25" cy="29" rx="17" ry="4"/>
                    <ellipse cx="25" cy="35" rx="16" ry="3"/>
                    <path d="M25 7 L25 43"/>
                    <path d="M15 9 Q7 25 15 41"/>
                    <path d="M35 9 Q43 25 35 41"/>
                </g>
                <!-- Highlight tiles -->
                <rect x="22" y="13" width="3" height="2" fill="rgba(255,255,255,0.5)" rx="0.5"/>
                <rect x="30" y="23" width="3" height="2" fill="rgba(255,255,255,0.5)" rx="0.5"/>
                <rect x="17" y="30" width="3" height="2" fill="rgba(255,255,255,0.5)" rx="0.5"/>
                <!-- Sparkle stars -->
                <g fill="url(#ballGradient)">
                    <path d="M5 10 L6 13 L5 16 L4 13 Z"/>
                    <path d="M45 10 L46 13 L45 16 L44 13 Z"/>
                    <path d="M5 35 L6 38 L5 41 L4 38 Z"/>
                    <path d="M45 35 L46 38 L45 41 L44 38 Z"/>
                </g>
            </svg>
        </div>
    </div>

    <script>
        let currentSlide = 0; // Start at holding page
        const totalSlides = 5;
        let isOnHoldingPage = true;

        // Ticket allocation ratios (percentages of total pax)
        const ALLOCATION = {
            coreCrew: 0.075,      // 7.5%
            keyContrib: 0.125,    // 12.5%
            subsidised: 0.075,    // 7.5%
            fullContrib: 0.725    // 72.5%
        };

        // Price ratios relative to full price
        const PRICE_RATIOS = {
            keyContrib: 0.5,    // 50% of full
            subsidised: 0.666   // 66% of full
        };

        function parseNumber(str) {
            return parseFloat(str.replace(/,/g, '')) || 0;
        }

        function formatNumber(num) {
            return Math.round(num).toLocaleString();
        }

        function updateCalculations() {
            const budget = parseNumber(document.getElementById('budgetInput').value);
            const pax = parseNumber(document.getElementById('paxInput').value);

            // Calculate 90% target revenue and 10% contingency
            const targetRevenue = budget * 0.9;
            const contingency = budget * 0.1;

            // Update displays
            document.getElementById('revenueDisplay').textContent = formatNumber(targetRevenue);
            document.getElementById('contingencyDisplay').textContent = formatNumber(contingency);

            // Calculate ticket allocations
            const coreCrew = Math.round(pax * ALLOCATION.coreCrew);
            const keyContrib = Math.round(pax * ALLOCATION.keyContrib);
            const subsidised = Math.round(pax * ALLOCATION.subsidised);
            const fullContrib = pax - coreCrew - keyContrib - subsidised;

            // Calculate full price to meet 90% target revenue
            const revenueCoeff = (keyContrib * PRICE_RATIOS.keyContrib) +
                                 (subsidised * PRICE_RATIOS.subsidised) +
                                 fullContrib;
            const fullPrice = targetRevenue / revenueCoeff;

            // Update ticket table
            document.getElementById('coreCrew').textContent = coreCrew;
            document.getElementById('keyContrib').textContent = keyContrib;
            document.getElementById('subsidised').textContent = subsidised;
            document.getElementById('fullContrib').textContent = fullContrib;

            document.getElementById('coreCrewPct').textContent = ((coreCrew / pax) * 100).toFixed(1);
            document.getElementById('keyContribPct').textContent = ((keyContrib / pax) * 100).toFixed(1);
            document.getElementById('subsidisedPct').textContent = ((subsidised / pax) * 100).toFixed(1);
            document.getElementById('fullContribPct').textContent = ((fullContrib / pax) * 100).toFixed(1);

            document.getElementById('keyContribPrice').textContent = Math.round(fullPrice * PRICE_RATIOS.keyContrib);
            document.getElementById('subsidisedPrice').textContent = Math.round(fullPrice * PRICE_RATIOS.subsidised);
            document.getElementById('fullPrice').textContent = Math.round(fullPrice);

            // Update bubble budgets (based on 90% target revenue)
            document.querySelectorAll('.bubble-amt').forEach(el => {
                const pct = parseFloat(el.dataset.pct);
                el.textContent = formatNumber(targetRevenue * pct / 100);
            });
        }

        function leaveHoldingPage() {
            if (!isOnHoldingPage) return;
            isOnHoldingPage = false;
            currentSlide = 1;

            // Hide the holding page completely
            document.getElementById('holdingPage').classList.add('hidden');

            // Show decorations and progress bar
            document.getElementById('decorTree').style.display = 'block';
            document.getElementById('decorDisco').style.display = 'block';
            document.getElementById('progressBar').classList.remove('hidden');
            document.getElementById('discoBall').classList.remove('hidden');

            updateSlide();
            updateDiscoBall();
        }

        function changeSlide(direction) {
            if (isOnHoldingPage) {
                if (direction > 0) {
                    leaveHoldingPage();
                }
                return;
            }

            currentSlide += direction;
            if (currentSlide < 1) currentSlide = 1;
            if (currentSlide > totalSlides) currentSlide = totalSlides;
            updateSlide();
            updateDiscoBall();
        }

        function goToSlide(slideNum) {
            if (isOnHoldingPage) return;
            currentSlide = slideNum;
            updateSlide();
            updateDiscoBall();
        }

        function updateSlide() {
            document.querySelectorAll('.slide').forEach(slide => {
                slide.classList.remove('active');
            });
            document.querySelector(`[data-slide="${currentSlide}"]`).classList.add('active');

            document.querySelectorAll('.progress-dot').forEach((dot, index) => {
                dot.classList.remove('active', 'completed');
                if (index + 1 === currentSlide) {
                    dot.classList.add('active');
                } else if (index + 1 < currentSlide) {
                    dot.classList.add('completed');
                }
            });
        }

        function updateDiscoBall() {
            const discoBall = document.getElementById('discoBall');
            const dots = document.querySelectorAll('.progress-dot');
            const activeDot = dots[currentSlide - 1];

            if (activeDot) {
                const rect = activeDot.getBoundingClientRect();
                const ballWidth = 25;
                discoBall.style.left = (rect.left + rect.width / 2 - ballWidth / 2) + 'px';
            }
        }

        function animateBox(element) {
            element.classList.remove('animating');
            void element.offsetWidth; // Trigger reflow
            element.classList.add('animating');
            setTimeout(() => element.classList.remove('animating'), 3000);
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.target.tagName === 'INPUT') return;

            if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                changeSlide(1);
            }
            if (e.key === 'ArrowLeft') {
                e.preventDefault();
                changeSlide(-1);
            }
        });

        // Click on progress dots
        document.querySelectorAll('.progress-dot').forEach(dot => {
            dot.addEventListener('click', () => {
                goToSlide(parseInt(dot.dataset.dot));
            });
        });

        // Handle window resize for disco ball position
        window.addEventListener('resize', () => {
            if (!isOnHoldingPage) {
                updateDiscoBall();
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Hide decorations on holding page
            document.getElementById('decorTree').style.display = 'none';
            document.getElementById('decorDisco').style.display = 'none';

            updateCalculations();
        });

        // Also update on load
        window.addEventListener('load', () => {
            if (!isOnHoldingPage) {
                updateDiscoBall();
            }
        });
    </script>
</body>
</html>
